include ../../test
include ../../report

div.container.table-responsive(ng-controller='ReportYslowCtrl')

    mixin test

    ul.nav.nav-tabs
        li
            a(href='#/report?build={{query.build}}') Overview
        li.active
            a(href='#/report/yslow?build={{query.build}}') YSlow
        li
            a(href='#/report/dommonster?build={{query.build}}') DomMonster
        li
            a(href='#/report/validator?build={{query.build}}') Validator
        mixin reportView

    mixin charts

    div(ng-hide="reportView === 'chart'")
        table#results.table.table-striped
            mixin reportHeaders
            tbody
                mixin reportTotals
                mixin reportLoader
                tr(ng-repeat='r in results')
                    mixin reportFields
                    td(ng-repeat='f in fields',class='text-center grade{{r.metrics[f.tool].grades[f.metric]}}',data-type='grades',ng-mouseenter='setPopoverContent({grade:r.metrics[f.tool].grades[f.metric],value:format(r.metrics[f.tool].data[f.metric],f.format)})',ng-mouseleave='setPopoverContent()')
                        span.badge {{r.metrics[f.tool].grades[f.metric]}}
                mixin reportFooters

    div#popoverContent.ng-hide
        ul.list-group
            li(class='list-group-item grade{{popoverContent.grade}}') {{popoverContent.value}}&nbsp;
                span(class='badge') {{popoverContent.grade}}


    mixin filter

