doctype html
html(ng-app='eyeballApp',lang='en')
    head
        title= title
        meta(name='viewport',content='width=device-width, initial-scale=1.0')
        link(rel='stylesheet', href='//cdnjs.cloudflare.com/ajax/libs/semantic-ui/0.16.1/css/semantic.min.css')
        if env === 'development'
            link(rel='stylesheet', href='/css/style.css?_=#{timestamp}')
        else
            link(rel='stylesheet', href='/eyeball-#{version}.min.css')
        link(rel='stylesheet', href='/lib/harpy-0.0.2.min.css')

    body(ng-controller="GlobalCtrl")
        nav.ui.menu.inverted.default
            h1.ui.header
                a.logo(href='#') Eyeball
            a(class="item{{(page === 'test' ? ' active' : '')}}",href="#test")
                i.icon.lab
                |&nbsp;Test
            a(class="item{{(page === 'report' ? ' active' : '')}}",href="#report")
                i.icon.search
                |&nbsp;Analyze
            div.item
                form(ng-submit="quickTest()")
                    input.ui(ng-model="quickUrl" name="url")
                    button.ui.button.mini.highlight.inverted(type="submit")
                        i.icon.lab
            a(class="item right{{(page === 'monitor' ? ' active' : '')}}",href="#/monitor")
                i.icon.desktop
                |&nbsp;Monitor


        div(ng-view)
            block content

        script(src='//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js')
        script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.0-rc.3/angular.min.js')
        script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.0-rc.3/angular-route.min.js')
        script(src='/socket.io/socket.io.js')
        script(src='//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js')
        script(src='//cdnjs.cloudflare.com/ajax/libs/semantic-ui/0.16.1/javascript/semantic.min.js')
        script(src='/lib/exos-1.1.2.min.js')
        script(src='//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.runtime.min.js')
        script(src='/lib/jquery.tablesorter.min.js')
        script(src='/lib/harpy-0.0.2.min.js')
        script(src='https://www.google.com/jsapi')

        if env === 'development'
            script(src='/js/app/app.js?_=#{timestamp}')
            script(src='/js/app/controllers/report.js?_=#{timestamp}')
            script(src='/js/app/controllers/test.js?_=#{timestamp}')
            script(src='/js/app/controllers/detail.js?_=#{timestamp}')
            script(src='/js/app/controllers/history.js?_=#{timestamp}')
            script(src='/js/app/controllers/har.js?_=#{timestamp}')
            script(src='/js/app/controllers/monitor.js?_=#{timestamp}')
            script(src='/js/app/controllers/compare.js?_=#{timestamp}')
            script(src='/js/app/controllers/global.js?_=#{timestamp}')
            script(src='/js/app/services/configResolver.js?_=#{timestamp}')
            script(src='/js/app/services/chart.js?_=#{timestamp}')
            script(src='/js/app/services/exos.js?_=#{timestamp}')
            script(src='/js/app/services/logger.js?_=#{timestamp}')
            script(src='/js/app/services/persist.js?_=#{timestamp}')
            script(src='/js/app/services/popover.js?_=#{timestamp}')
            script(src='/js/app/services/render.js?_=#{timestamp}')
            script(src='/js/app/services/socket.js?_=#{timestamp}')
            script(src='/js/app/services/tablesort.js?_=#{timestamp}')
            script(src='/js/app/services/utils.js?_=#{timestamp}')
            script(src='/js/app/services/harpy.js?_=#{timestamp}')
            script eyeballApp.env = "development";
        else
            script(src='/eyeball-#{version}.min.js')

